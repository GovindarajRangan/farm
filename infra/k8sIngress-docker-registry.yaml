apiVersion: v1
kind: Secret
metadata:
  name: registry-tls
  namespace: default
type: kubernetes.io/tls
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlEa0RDQ0FuZ0NDUURpREowc1RPaWV3VEFOQmdrcWhraUc5dzBCQVFzRkFEQ0JpVEVzTUNvR0ExVUVBd3dqDQpZV3R6WjI5MmFXNWtMbVZoYzNSMWN5NWpiRzkxWkdGd2NDNWhlblZ5WlM1amIyMHhDekFKQmdOVkJBWVRBbFZUDQpNUXN3Q1FZRFZRUUlEQUpPU2pFVE1CRUdBMVVFQnd3S1VHeGhhVzV6WW05eWJ6RVZNQk1HQTFVRUNnd01UVzl5DQpkR0ZzSUVsdVpuSmhNUk13RVFZRFZRUUxEQXBMZFdKbGNtNWxkR1Z6TUI0WERURTRNRFl5TWpJeU1EY3pObG9YDQpEVEU1TURZeU1qSXlNRGN6Tmxvd2dZa3hMREFxQmdOVkJBTU1JMkZyYzJkdmRtbHVaQzVsWVhOMGRYTXVZMnh2DQpkV1JoY0hBdVlYcDFjbVV1WTI5dE1Rc3dDUVlEVlFRR0V3SlZVekVMTUFrR0ExVUVDQXdDVGtveEV6QVJCZ05WDQpCQWNNQ2xCc1lXbHVjMkp2Y204eEZUQVRCZ05WQkFvTURFMXZjblJoYkNCSmJtWnlZVEVUTUJFR0ExVUVDd3dLDQpTM1ZpWlhKdVpYUmxjekNDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFPNjN2cXUrDQpQSURGRWY3Ti9OM1RxS2M3amFlc0x0cU0waDhjTjB5S2hGUU12cTN5VE1WMHBidDhQOGlYdmUvYVk2bHZUTytzDQpEbkx6bnFsL3g0MlFWNG1ibGgwbHZ1QjA2bStFOTlkalhoN0liNkJ6R29aU3Zud1NRNXhBRWticHdPNkpLT0J6DQppKzlRMHptTmFFWTFDRFlWbEdVbnFzekxGV3hrc0xldzYvUTRDQlVnTENtZkloMHV0UkVkWmNKVXcvTVJQU0VkDQp1NnE4NGtjbm9pRXpGeFFWdFU3OU4wOG1VVFFHNWkzWDM0WEdRRVgzckN5OG8rMENyREdQVlkxN0R1TDg5Vm9jDQpWUGFuanpRMWQyMWwxSkF1Z3VDc1NRM2RYazJyVTA3N3hldGJ2TTZmVS9VTi9JVkx6dFNZeDV3UnNZa084dFFjDQpyL1Rkd0xIWVdZSkxKNzBDQXdFQUFUQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFINEtsRzMyc09wWnNYQnZBDQpwcXA3YVhaaWNmTzFHcERuWEltd2YzbjBHTzBKTm5OYzUwNXF3RUtNL1BmdUZMUTU5MXhyd1RDMVl6RnNvK2VjDQpuUjJXNWJZN2paL0t1SVhZV1d3OXN5YUY5SDRFRDlTcmFiQTlZVGI5SGVkd2NPTnN3WEMvb1NrSXpTZmNKYXVQDQpOa0FRSkJaQzMzMHdYNERUQjJIbjY4MkVIM3JDM0FCcEp5YlZwNG5DZndCSWYvZEpBMmZtUWx5ZWZ2enBUMkhEDQp3bWhkR2ZUQ1hPUGxNdFdZNXB5b0xVNjdTaHRXZ3p6M0Fod1l3MnVoeXhuZkFOeFQza2svYXd1azJKeitBRFd0DQp3T0I1ZVFyY1hPVFRzYS9LQ090V1hld2c0NU8rdTF6RWJjZWQyTzZhOXB4RHc0SU1lZEJwMzZCT2VvWWdEcHJUDQpuS3hrWWc9PQ0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ0K
  tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tDQpNSUlFdmdJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLZ3dnZ1NrQWdFQUFvSUJBUUR1dDc2cnZqeUF4UkgrDQp6ZnpkMDZpbk80Mm5yQzdhak5JZkhEZE1pb1JVREw2dDhrekZkS1c3ZkQvSWw3M3YybU9wYjB6dnJBNXk4NTZwDQpmOGVOa0ZlSm01WWRKYjdnZE9wdmhQZlhZMTRleUcrZ2N4cUdVcjU4RWtPY1FCSkc2Y0R1aVNqZ2M0dnZVTk01DQpqV2hHTlFnMkZaUmxKNnJNeXhWc1pMQzNzT3YwT0FnVklDd3BueUlkTHJVUkhXWENWTVB6RVQwaEhidXF2T0pIDQpKNkloTXhjVUZiVk8vVGRQSmxFMEJ1WXQxOStGeGtCRjk2d3N2S1B0QXF3eGoxV05ldzdpL1BWYUhGVDJwNDgwDQpOWGR0WmRTUUxvTGdyRWtOM1Y1TnExTk8rOFhyVzd6T24xUDFEZnlGUzg3VW1NZWNFYkdKRHZMVUhLLzAzY0N4DQoyRm1DU3llOUFnTUJBQUVDZ2dFQkFNMTU5YkpvMWpWVTdDOXlhUlVicWhFQWp1YmpxNVROSDlSTmVqLzAvd0JGDQoxQjl2NzZzS3c5bEVrclo3L3E2bFFhSEhQdWNTSjRIRXR5NVk0WkMxek5PU3k3eWREOWF1YkZpL2tJR2ljNUoxDQpucmZ5TzhPaEYzcytVVm4rUUgwdm1iVDQ5T2wySzk0N3FRVGg5ZjV3aVhmY1RWWmd0WUQvMFpueWRiWTNvSElkDQoyd2U4NExqcDZvN0FxNExTa0ZIT0dIcmQyOTF6Wis3dmExOEJWVWhWRmswT1R5QnBqUWtxaG5IdkREVUVSanJSDQpwY1RyWU51cUUxLytUMERhbmhUczlIL1RVSFgrVjUyK0EyUW1ZcHhCbXJXdkVZY2ZKQVFXd2dibGNhODdIaUdFDQo5ZHZ5SlZNU0VaTkF5VXBKSU1MbE1uc0s0ZUE1TzE1NWNZRDhxK2lDSUlFQ2dZRUEvYW9IdzZkb0lnVmRjcnNIDQpja29GcEd1dmVqQUFUMEYxY0RVVC9NRk01ZXhXblhwVUVOTW9lSW5Mcm04dFY5c0RKYW8vMnc0Um9nTk1PUER1DQo3S2RJcStjOEd0WWptUmZYZFFSNXA5Mkp4d1RWZnZyZTNLZ2REU1dkZEQ4N0Q4c1lKaFZwbmNpSDYwdENFZE85DQp2OGpZeXA0c0FoaWE0am8rQXQrMW1xcVR6cUVDZ1lFQThPcDdHTUNKM0J0emtGbFJDV2o4aXFvODF5NHpqTFAyDQpHNEVHcmVUbzdQWFRDR09FaXphNmJOd2Jpb0J1eEN4anZMZHNMMys1b1E0MGhjeUw2NkdHbW1ybHR5Y3ZvaUFODQorOGZCMTlHRUl0S0FmdlVCczdRMUVzTnRvdjNzWTZOaldwa3JyNGllV2pZODdRUXZScXM4c0l5N2YvcFFiUm1nDQpPaWVENFVKS0Q1MENnWUVBc0R2ZFFSV2h4MkVxMTNjUmFWbjhLWXVYVXJEZXhqR1lRZWplaGhCV09MZkdSWXFqDQp0VHkvTlYrbTN2M201czhHbExoL3ZOVTljdTRQbXMvcGJ3bVo5N1Nqa1pHTkVlUDZrUllXMzRXUEgzSkFVZ1JCDQpxZFF5dXR1VFZSeEpFR1B0MXlleFJTbjVKSVFZMXdIaEpzbUh0TjNIZlgxU3ZqSHd1MVpwZVpkaE1ZRUNnWUJnDQpiOXhhcWlnRlBjL2l4bjRUNER6SFhTSUJtUEwxcmN3a2NsKzBHRi9OQ3hJdzEzVmxMTUV2ZG1SbjZzVnNMY0MyDQorRTJNTGZxbXA4TUtsRGltV0FCRHErck1pQmtmTXVtbUVlNWNiL2dPNEdpamFYd0c3V29aV3JWMmUySzI5OTU3DQprN2pUQ1VNcUpXLzZDS1RNQ3h1K0tIZWQ0UnQwc0w5Y3lCaVlnU3FZV1FLQmdBTGwxem84TmVWSWdXVVkrMTN4DQpOczd2SHVIY0RZeThrc2xQZ09sUWg1WktPRDlVWVpTN2dIQ0RMYWthVXBWcmhyV0UxbktUd0lxZjFSdDgxZ0gzDQpsZFJDOWxsRFROUGF0MG5PeEZyUTVpQjZhZEI1VWR5NE5wbkEyZXVtdUNZVkFnNkg4aEtPMVltNldKa3ZBazRKDQpFUGNyQnowbEhMdmdaMXZoQ2M2OW5iYWMNCi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0NCg==
---
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: docker-registry-ingress
  annotations:
    nginx.ingress.kubernetes.io/add-base-url: /registry
    nginx.ingress.kubernetes.io/proxy-body-size: "0"
    nginx.ingress.kubernetes.io/proxy-read-timeout: "600"
    nginx.ingress.kubernetes.io/proxy-send-timeout: "600"
    kubernetes.io/tls-acme: 'true'
spec:
  tls:
  - hosts:
    - aksgovind.eastus.cloudapp.azure.com
    secretName: registry-tls
  rules:
  - host: aksgovind.eastus.cloudapp.azure.com
    http:
      paths:
      - path: /registry
        backend:
          serviceName: sullen-aardwolf-docker-registry
          servicePort: 5000
